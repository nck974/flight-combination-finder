@if(query && flightsByDateAndHour && dayWithFlight){
<div class="table table-{{nrColumns}}-columns" id="flightsTable">
  <!-- Header -->
  <div>Day</div>
  <div>Hour</div>
  <!-- Header Routes -->
  @for(route of query.routes; track route){
  <div>{{route.origin}} - {{route.destination}}</div>
  }
  @for (date of dates; track date){
  <!-- Only show days with flights -->
  @if(dayWithFlight[date.toDateString()]){
  <!-- Date -->
  <div class="day-cell">
    {{date | dateFormat}}
  </div>

  <!-- Hour -->
  @for( hour of hours; track hour; let hourIndex=$index){
  <div class="hour">{{hour}}:00</div>
  <!-- Airports per hour -->
  @for(route of query.routes; track route){
  <div class="event-container">
    @if(flightsByDateAndHour[date.toDateString()+hour]){
    <!-- Flights in hour and airport -->
    @for( flight of flightsByDateAndHour[date.toDateString()+hour][route.origin
    + '-' + route.destination]; track
    flight){
    <div
      class="event color-{{hourIndex}}-{{$index}} duration-{{flight.duration}}">
      {{flight.price}}â‚¬ {{flight.departureDate | timeFormat}} ->
      {{flight.landingDate | timeFormat}}
    </div>
    }
    }
  </div>
  }
  }
  }
  }

</div>
}
